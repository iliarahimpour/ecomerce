!function(e){"use strict";var s=function(s){var a={},r=s.serializeArray();return e.each(r,function(){a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},a=function(e){var s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return s.test(String(e).toLowerCase())};e(document).on("click",".submit-newsletter",function(r){var t=e(this).closest(".newsletter-form-wrap"),i=s(t),n=t.find('input[name="email"]'),o={action:"submit_mailchimp_via_ajax",data:i};return""===n.val()?(e.growl?e.growl.error({message:'<p class="growl-content">'+ovic_mailchimp.text_empty+"</p>"}):t.parent().append('<div class="return-message bg-danger">'+ovic_mailchimp.text_empty+"</div>"),!1):a(n.val())?t.hasClass("processing")?!1:(t.addClass("processing"),t.parent().find(".return-message").remove(),e.post(ovic_mailchimp.ajaxurl,o,function(s){"yes"==e.trim(s.success)?(t.trigger("reset"),e.growl?e.growl.notice({message:'<p class="growl-content">'+s.message+"</p>"}):t.parent().append('<div class="return-message bg-success">'+s.message+"</div>"),e(document.body).trigger("ovic_newsletter_success",s.message)):(e.growl?e.growl.error({message:'<p class="growl-content">'+s.message+"</p>"}):t.parent().append('<div class="return-message bg-danger">'+s.message+"</div>"),e(document.body).trigger("ovic_newsletter_error",s.message)),t.removeClass("processing")}),void r.preventDefault()):(e.growl?e.growl.error({message:'<p class="growl-content">'+ovic_mailchimp.format_email+"</p>"}):t.parent().append('<div class="return-message bg-danger">'+ovic_mailchimp.format_email+"</div>"),!1)})}(jQuery);